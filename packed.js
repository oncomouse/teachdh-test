function pluck(r,n){return n.map(function(n){return n[r]})}function uniq(t){return t.filter(function(n,r){return t.indexOf(n)===r})}function flatten(n,t){return 0<(t=t||1/0)?n.reduce(function(n,r){return n.concat(Array.isArray(r)?flatten(r,t-1):r)},[]):n.slice()}function nl2array(t){return null===t?[]:Array.prototype.slice.call(t)}function hasClass(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function toggleClass(t,e){t.classList.toggle(e)}function show(t){var e;t.hasAttribute("data-display")||(e=document.body.appendChild(document.createElement(t.nodeName)),t.setAttribute("data-display",window.getComputedStyle(t).getPropertyValue("display")),document.body.removeChild(e)),t.style.display=t.getAttribute("data-display")}function hide(t){var e;t.hasAttribute("data-display")||(e=document.body.appendChild(document.createElement(t.nodeName)),t.setAttribute("data-display",window.getComputedStyle(t).getPropertyValue("display")),document.body.removeChild(e)),t.style.display="none"}document.addEventListener("DOMContentLoaded",function(){var r="active";var i=nl2array(document.querySelectorAll("article")).map(function(e){return{id:e.getAttribute("id"),title:e.querySelector("h1").innerText,content:e.querySelector("main").innerText,categories:nl2array(e.querySelectorAll("header li")).map(function(e){return e.innerText})}}),e=uniq(flatten(pluck("categories",i))),l={questions:new Fuse(i,{keys:["title","content"]})};document.querySelector("#titleList").addEventListener("results",function(e){var t=e.detail.input,n=e.detail.results;0===n.length&&0===t.length?document.querySelector("#titleList").innerHTML="":(document.querySelector("#titleList").innerHTML="<ul></ul>",n.map(function(t){var e=document.createElement("A");e.href="#",e.innerHTML=t.title,e.addEventListener("click",function(e){e.preventDefault(),document.querySelector("#"+t.id).scrollIntoView({behavior:"smooth"})});var n=document.createElement("LI");n.insertAdjacentElement("beforeend",e),document.querySelector("#titleList ul").insertAdjacentElement("beforeend",n)}))}),document.querySelector("#questions").addEventListener("filter",function(e){var t,n=e.detail.input,r=e.detail.results;0===r.length&&0===n.length?nl2array(document.querySelectorAll("article")).forEach(function(e){show(e)}):(t=pluck("id",r),nl2array(document.querySelectorAll("article")).forEach(function(e){(0<=t.indexOf(e.getAttribute("id"))?show:hide)(e)}))}),document.querySelector("#searchBar").addEventListener("input",function(e){e.preventDefault();var t,n=e.target.value,r=(t=n,pluck("item",l.questions.search(t)));document.querySelector("#questions").dispatchEvent(new CustomEvent("filter",{detail:{results:r,input:n}})),document.querySelector("#titleList").dispatchEvent(new CustomEvent("results",{detail:{results:r,input:n}}))}),e.map(function(e){var t=document.createElement("BUTTON");t.innerHTML=e,t.setAttribute("data-target",e),t.addEventListener("click",function(t){t.preventDefault();var n=t.target.getAttribute("data-target"),e=hasClass(t.target,r);toggleClass(t.target,r),nl2array(document.querySelector(r)).filter(function(e){return e!==t.target}).forEach(function(e){toggleClass(e,r)}),document.querySelector("#questions").dispatchEvent(new CustomEvent("filter",{detail:{results:e?[]:i.filter(function(e){return 0<=e.categories.indexOf(n)}),input:e?"":n}}))});var n=document.createElement("LI");n.insertAdjacentElement("beforeend",t),document.querySelector("#categories ul").insertAdjacentElement("beforeend",n)})});